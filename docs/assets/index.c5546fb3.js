var C=Object.defineProperty;var l=Object.getOwnPropertySymbols;var f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable;var g=(s,n,e)=>n in s?C(s,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[n]=e,v=(s,n)=>{for(var e in n||(n={}))f.call(n,e)&&g(s,e,n[e]);if(l)for(var e of l(n))m.call(n,e)&&g(s,e,n[e]);return s};var y=(s,n)=>{var e={};for(var t in s)f.call(s,t)&&n.indexOf(t)<0&&(e[t]=s[t]);if(s!=null&&l)for(var t of l(s))n.indexOf(t)<0&&m.call(s,t)&&(e[t]=s[t]);return e};import{n as E,r as c,R as r,c as N,_ as S,s as R,a as b}from"./vendor.8020dab0.js";const k=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}};k();const d="react-inline-edit";class u extends c.exports.Component{constructor(n){super(n);this.confirmedValue=this.props.value,this.rootRef=c.exports.createRef(),this.state={value:this.props.value,editing:!1},this.start=()=>{this.setState({editing:!0},()=>{var t;((t=this.rootRef.current)==null?void 0:t.querySelector("input")).focus()})},this.editing=e=>{this.setState({value:e})},this.confirm=()=>{const{onChange:e}=this.props,{value:t}=this.state;this.confirmedValue=t,this.setState({editing:!1}),e({target:{value:t}})},this.cancel=()=>{this.setState({editing:!1,value:this.confirmedValue})},this.docClick=e=>{const{target:t}=e,i=this.rootRef.current;t.contains(i)&&this.cancel()},this.handleDblClick=()=>{this.start()},this.handleInputChange=e=>{const{value:t}=e.target;this.editing(t)},this.handleInputKeyUp=e=>{const{key:t}=e;t==="Enter"&&this.confirm(),t==="Escape"&&this.cancel()},window.addEventListener("click",this.docClick)}shouldComponentUpdate(n){const{value:e}=n;return e!==this.props.value&&e!==this.confirmedValue&&(this.confirmedValue=e,this.setState({value:e})),!0}componentWillUnmount(){window.removeEventListener("click",this.docClick)}render(){const p=this.props,{className:n,onChange:e,children:t,inputClassName:i}=p,o=y(p,["className","onChange","children","inputClassName"]),{value:a,editing:h}=this.state;return r.createElement("div",v({ref:this.rootRef,"data-component":d,className:N(d,n)},o),r.createElement("label",{hidden:h,className:"is-label",onDoubleClick:this.handleDblClick},a),h&&r.createElement(S,{inputClassName:i,type:"text",value:a,onChange:this.handleInputChange,onKeyUp:this.handleInputKeyUp,onBlur:this.cancel}))}}u.displayName=d;u.version="__VERSION__";u.defaultProps={onChange:E};const I=R.div`
  width: 80%;
  margin: 30px auto 0;
`;var L=()=>{const[s,n]=c.exports.useState("Hello inline edit");return c.exports.useEffect(()=>{console.log("value changed:",s)},[s]),r.createElement(I,null,r.createElement(u,{value:s,inputClassName:"test-cls",onChange:e=>n(e.target.value)}))};b.render(r.createElement(r.StrictMode,null,r.createElement(L,null)),document.getElementById("root"));
